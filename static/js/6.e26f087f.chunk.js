(this["webpackJsonpmy-personal-pwa"]=this["webpackJsonpmy-personal-pwa"]||[]).push([[6],{217:function(e,t,a){"use strict";var n=a(176),c=a.n(n),r=a(175),i=a(182),o=a(26),s=a(0),l=a(259);l.a.initializeApp({apiKey:"AIzaSyC-tzfeKC1QSFSZbyAcgNxw7nNa5Bqm0Zs",authDomain:"my-pwa-ab0ee.firebaseapp.com",projectId:"my-pwa-ab0ee",storageBucket:"my-pwa-ab0ee.appspot.com",messagingSenderId:"726616032493",appId:"1:726616032493:web:789aec950bde86366ab8e4",measurementId:"G-4V4DXTD4MX"});var u=null===l.a||void 0===l.a?void 0:l.a.firestore();t.a=function(e){var t=Object(s.useState)(!1),a=Object(o.a)(t,2),n=a[0],l=a[1];function d(){return(d=Object(i.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,u.collection(e).limit(50).get();case 3:return a=t.sent,n=a.docs.map((function(e){return Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id})})),l(!1),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return(j=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,u.collection(e).add(Object(r.a)({},a));case 3:return n=t.sent,l(!1),t.abrupt("return",Object(r.a)(Object(r.a)({},n),{},{id:n.id}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,u.collection(e).doc(a.id).set(Object(r.a)({},a));case 3:l(!1);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,u.collection(e).doc(a.id).delete();case 3:l(!1);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{getData:function(){return d.apply(this,arguments)},addData:function(e){return j.apply(this,arguments)},updateData:function(e){return b.apply(this,arguments)},deleteData:function(e){return p.apply(this,arguments)},loading:n}}},470:function(e,t,a){"use strict";a.r(t);var n=a(260),c=a(176),r=a.n(c),i=a(182),o=a(26),s=a(0),l=a.n(s),u=a(217),d=a(8),j=a(157),b=a(85),p=a(455),h=a(40),O=a(462),f=a(466),m=a(465),g=a(461),x=a(463),v=a(464),y=a(425),w=a(170),C=a(152),A=a(135),N=a(22),S=a(3),k=Object(A.a)({table:{minWidth:300}}),D=function(e){var t=e.loading,a=e.savingList,n=k(),c=Object(d.f)(),r=Object(s.useState)(),i=Object(o.a)(r,2),u=i[0],A=i[1],D=l.a.useMemo((function(){return a.reduce((function(e,t){return e+t.amount}),0)}),[a]);return Object(S.jsx)(S.Fragment,{children:t?Object(S.jsx)(p.a,{}):Object(S.jsxs)("div",{children:[Object(S.jsx)(j.a,{p:2,children:Object(S.jsx)(b.a,{elevation:3,children:Object(S.jsxs)(y.a,{data:a,children:[Object(S.jsx)(y.b,{valueField:"amount",argumentField:"category",name:"category",outerRadius:.75}),Object(S.jsx)(y.c,{text:"Asset"}),Object(S.jsx)(y.c,{text:D.toString()}),Object(S.jsx)(w.a,{}),Object(S.jsx)(w.e,{}),Object(S.jsx)(y.d,{targetItem:u,onTargetItemChange:function(e){return A(e)}}),Object(S.jsx)(w.g,{scheme:["#666166","#76e","#6d4","#fff","#000","#e5e5e"]})]})})}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(C.a,{onClick:function(){return c.push(N.c)},children:"Update"}),Object(S.jsx)(C.a,{onClick:function(){return c.push(N.b)},children:"Add"})]}),Object(S.jsx)(j.a,{p:2,children:Object(S.jsx)(g.a,{component:b.a,children:Object(S.jsxs)(O.a,{className:n.table,"aria-label":"simple table",children:[Object(S.jsx)(x.a,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(m.a,{children:Object(S.jsx)(h.a,{variant:"h6",children:"Category"})}),Object(S.jsx)(m.a,{align:"right",children:Object(S.jsx)(h.a,{variant:"h6",children:"Amount"})}),Object(S.jsx)(m.a,{align:"center",children:Object(S.jsx)(h.a,{variant:"h6",children:"Date"})})]})}),Object(S.jsx)(f.a,{children:a.map((function(e){return Object(S.jsxs)(v.a,{onClick:function(){return t=e.category,void c.push({pathname:N.c,search:"?category="+t});var t},children:[Object(S.jsx)(m.a,{component:"th",scope:"row",children:e.category}),Object(S.jsx)(m.a,{align:"right",children:null===e||void 0===e?void 0:e.amount}),Object(S.jsx)(m.a,{align:"right",children:null===e||void 0===e?void 0:e.updatedDate})]},e.category)}))})]})})})]})})},W=a(175),L=a(475),F=a(472),I=a(456),T=a(467),E=a(226),z=a.n(E),U=a(230),V=a.n(U),q=a(409),B=a.n(q),J=a(458),K=a(469),M=a(426),X=a(151),Z=a(147),$=a(149),G=a(150),P=a(148),Q=function(e){var t=e.showDialog,a=e.handleClose,n=e.title,c=e.children,r=e.action;return Object(S.jsxs)(Z.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n&&Object(S.jsx)(P.a,{id:"alert-dialog-title",children:n}),c&&Object(S.jsx)($.a,{children:Object(S.jsx)(G.a,{id:"alert-dialog-description",children:c})}),r&&Object(S.jsx)(X.a,{children:r})]})},R=function(e){var t=e.confirmActionName,a=e.cancelActionName,n=e.cancelAction,c=e.confirmAction,r=e.content,i=Object(M.a)(e,["confirmActionName","cancelActionName","cancelAction","confirmAction","content"]);return Object(S.jsx)(Q,Object(W.a)(Object(W.a)({handleClose:n,action:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C.a,{onClick:c,variant:"outlined",color:"secondary",children:t||"Yes"}),Object(S.jsx)(C.a,{onClick:n,variant:"contained",color:"primary",children:a||"No"})]})},i),{},{children:Object(S.jsx)(h.a,{children:r})}))},Y=Object(A.a)((function(e){return Object(L.a)({container:{marginTop:"2rem",padding:"2rem",boxSizing:"border-box",position:"relative"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}})})),H=function(e){e.loading;var t,a,n=e.savingList,c=e.onUpdate,r=e.onDelete,i=Object(d.f)(),l=Object(d.g)(),u=Y(e),j=Object(s.useState)((null===(t=B.a.parse(l.search))||void 0===t?void 0:t.category)?B.a.parse(l.search).category:""),p=Object(o.a)(j,2),h=p[0],O=p[1],f=Object(s.useState)("0"),m=Object(o.a)(f,2),g=m[0],x=m[1],v=Object(s.useState)("#fff"),y=Object(o.a)(v,2),w=y[0],A=y[1],k=Object(s.useState)(null),D=Object(o.a)(k,2),L=D[0],E=D[1],U=function(){return n.find((function(e){var t=Array.isArray(h)||!h?"":h.toLowerCase();return e.category.toLowerCase()===t.toLowerCase()}))};Object(s.useEffect)((function(){var e;O(null===(e=B.a.parse(l.search))||void 0===e?void 0:e.category);var t=U();t?(x(t.amount.toString()),A(t.color)):x("0")}),[l.search]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(b.a,{elevation:2,className:u.container,children:[Object(S.jsxs)(J.a,{fullWidth:!0,className:u.formControl,children:[Object(S.jsx)(F.a,{htmlFor:"category",children:"Category"}),Object(S.jsxs)(K.a,{native:!0,value:h,onChange:function(e){i.push({pathname:N.c,search:"?category="+e.target.value})},inputProps:{name:"category",id:"category"},children:[Object(S.jsx)("option",{"aria-label":"None",value:""}),null===(a=e.savingList)||void 0===a?void 0:a.map((function(e){return Object(S.jsx)("option",{"aria-label":"None",value:e.category,children:e.category},e.category)}))]})]}),Object(S.jsxs)(J.a,{fullWidth:!0,className:u.margin,children:[Object(S.jsx)(F.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(S.jsx)(I.a,{id:"standard-adornment-amount",value:g,onChange:function(e){return x(e.target.value)},startAdornment:Object(S.jsx)(T.a,{position:"start",children:"$"})})]}),Object(S.jsx)(J.a,{fullWidth:!0,className:u.margin,children:Object(S.jsx)(V.a,{label:"Color",name:"color",defaultValue:w,value:w,onChange:function(e){return A(e)}})}),Object(S.jsx)(J.a,{fullWidth:!0,className:u.margin,children:Object(S.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){var e=U();e?c(Object(W.a)(Object(W.a)({},e),{},{amount:Number(g),updatedAt:(new Date).toISOString().split("T")[0],color:w})):x("0")},children:"Update"})}),Object(S.jsx)(J.a,{fullWidth:!0,className:u.margin,children:Object(S.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){var e=U();E(e||null)},startIcon:Object(S.jsx)(z.a,{}),children:"Delete"})}),Object(S.jsx)(J.a,{fullWidth:!0,className:u.margin,children:Object(S.jsx)(C.a,{variant:"outlined",onClick:function(){return i.push(N.d)},children:"Cancel"})})]}),Object(S.jsx)(R,{content:"Are you sure, you want to delete?",showDialog:!!L,confirmAction:function(){L?r(L):E(null)},cancelAction:function(){return E(null)}})]})},_=Object(A.a)((function(e){return Object(L.a)({container:{marginTop:"2rem",padding:"2rem",boxSizing:"border-box",position:"relative"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}})})),ee=function(e){e.loading;var t=e.savingList,a=e.onAdd,n=Object(d.f)(),c=_(e),r=Object(s.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(s.useState)("0"),p=Object(o.a)(j,2),h=p[0],O=p[1],f=Object(s.useState)("#fff"),m=Object(o.a)(f,2),g=m[0],x=m[1],v=function(){return t.find((function(e){return e.category.toLowerCase()===l.toLowerCase()}))};Object(s.useEffect)((function(){var e=v();O(e?e.amount.toString():"0")}),[l]);return Object(S.jsxs)(b.a,{elevation:2,className:c.container,children:[Object(S.jsxs)(J.a,{fullWidth:!0,className:c.margin,children:[Object(S.jsx)(F.a,{htmlFor:"category",children:"Category"}),Object(S.jsx)(I.a,{id:"category",value:l,onChange:function(e){u(e.target.value)}})]}),Object(S.jsxs)(J.a,{fullWidth:!0,className:c.margin,children:[Object(S.jsx)(F.a,{htmlFor:"amount",children:"Amount"}),Object(S.jsx)(I.a,{id:"amount",value:h,onChange:function(e){return O(e.target.value)},startAdornment:Object(S.jsx)(T.a,{position:"start",children:"$"})})]}),Object(S.jsx)(J.a,{fullWidth:!0,className:c.margin,children:Object(S.jsx)(V.a,{label:"Color",name:"color",defaultValue:g,value:g,onChange:function(e){return x(e)}})}),Object(S.jsx)(J.a,{fullWidth:!0,className:c.margin,children:Object(S.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){v()?O("0"):a({category:l,amount:Number(h),updatedAt:(new Date).toISOString().split("T")[0],liquidable:0,color:g,id:(new Date).toString()})},children:"Add"})}),Object(S.jsx)(J.a,{fullWidth:!0,className:c.margin,children:Object(S.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){return n.push(N.d)},children:"Cancel"})})]})};t.default=function(){var e=Object(d.f)(),t=Object(u.a)("savings"),a=t.loading,c=t.getData,l=t.updateData,j=t.addData,b=t.deleteData,p=Object(s.useState)([]),h=Object(o.a)(p,2),O=h[0],f=h[1],m=Object(s.useState)([]),g=Object(o.a)(m,2),x=g[0],v=g[1],y=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){y()}),[]),Object(s.useEffect)((function(){if(O.length){var e=O.map((function(e){return{amount:e.amount,category:e.category,updatedDate:e.updatedAt}}));v(e)}}),[O]);var w=function(){var t=Object(i.a)(r.a.mark((function t(a){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(a);case 3:c=Object(n.a)(O),i=O.findIndex((function(e){return e.category===a.category})),c.splice(i,1,a),f(c),e.push(N.d),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(r.a.mark((function t(a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(a);case 3:c=[].concat(Object(n.a)(O),[a]),f(c),e.push(N.d),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(i.a)(r.a.mark((function t(a){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(a);case 3:c=Object(n.a)(O),i=O.findIndex((function(e){return e.category===a.category})),c.splice(i,1),f(c),e.push(N.d),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{exact:!0,path:N.d,component:function(){return Object(S.jsx)(D,{loading:a,savingList:x})}}),Object(S.jsx)(d.a,{path:N.c,component:function(){return Object(S.jsx)(H,{loading:a,savingList:O,onUpdate:w,onDelete:A})}}),Object(S.jsx)(d.a,{path:N.b,component:function(){return Object(S.jsx)(ee,{loading:a,savingList:O,onAdd:C})}})]})}}}]);
//# sourceMappingURL=6.e26f087f.chunk.js.map